//! # Rust 类型大小演示程序
//! 
//! 本程序演示了 Rust 中不同类型变量的内存大小，帮助理解：
//! - 不同整数类型（u8, u32）的内存占用
//! - 浮点数类型（f32）的内存占用  
//! - 默认整数类型（i32）和浮点数类型（f64）的内存占用
//! 
//! ## 关键概念
//! 
//! ### Rust 类型系统
//! Rust 是静态类型语言，每个变量在编译时都有确定的类型。
//! 类型决定了变量的内存大小、取值范围和可执行的操作。
//! 
//! ### 内存大小的重要性
//! - **性能优化**：了解类型大小有助于内存优化
//! - **跨平台兼容性**：确保数据结构在不同系统上的一致性
//! - **系统编程**：在底层编程中，内存布局至关重要
//! 
//! ### std::mem::size_of_val 函数
//! `std::mem::size_of_val` 是 Rust 标准库中的函数，用于获取：
//! - **传递的值的内存大小**（以字节为单位）
//! - 这个函数适用于任何类型，因为它返回的是值的大小
//! - 与 `std::mem::size_of` 不同，后者返回类型大小而非值大小

fn main() {
    // 声明一个 8 位无符号整数 (unsigned integer)
    // u8 类型范围：0 到 255 (2^8 - 1)
    // 适用于存储小数值，如年龄、小计数等
    let x = 1u8;
    
    // 声明一个 32 位无符号整数
    // u32 类型范围：0 到 4,294,967,295 (2^32 - 1)
    // 适用于存储较大的数值，如日期、大计数等
    let y = 2u32;
    
    // 声明一个 32 位浮点数
    // f32 类型范围：约 1.4 × 10^-45 到 3.4 × 10^38
    // 适用于需要浮点运算但对精度要求不高的场景
    let z = 3f32;

    // 声明一个系统默认的有符号整数（通常是 32 位或 64 位）
    // 在大多数现代系统上，i32 = 4 字节，i64 = 8 字节
    // 适用于存储有符号整数（正数、负数、零）
    let i = 1;
    
    // 声明一个系统默认的浮点数（通常是 64 位）
    // 在大多数现代系统上，f64 = 8 字节，f32 = 4 字节
    // 适用于需要高精度浮点运算的场景
    let f = 1.0;

    // 输出变量 x 的内存大小（以字节为单位）
    // std::mem::size_of_val(&x) 获取变量 x 占用的内存字节数
    // 对于 x = 1u8，输出应该是 1
    println!("size of 'x' in bytes: {}", std::mem::size_of_val(&x));
    
    // 输出变量 y 的内存大小
    // 对于 y = 2u32，输出应该是 4
    println!("size of 'y' in bytes: {}", std::mem::size_of_val(&y));
    
    // 输出变量 z 的内存大小
    // 对于 z = 3f32，输出应该是 4
    println!("size of 'z' in bytes: {}", std::mem::size_of_val(&z));
    
    // 输出变量 i 的内存大小
    // 对于 i = 1（默认 i32），输出应该是 4
    println!("size of 'i' in bytes: {}", std::mem::size_of_val(&i));
    
    // 输出变量 f 的内存大小
    // 对于 f = 1.0（默认 f64），输出应该是 8
    println!("size of 'f' in bytes: {}", std::mem::size_of_val(&f));
}